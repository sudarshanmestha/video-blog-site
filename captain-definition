{
    "schemaVersion": 2,
    "dockerfileLines": [
      "FROM tiangolo/meinheld-gunicorn:python3.9-alpine3.14",
      "RUN apk update && apk upgrade && apk add --no-cache make g++ bash git openssh postgresql-dev curl libmagic",
      "RUN mkdir -p /usr/src/app",
      "WORKDIR /usr/src/app",
      "COPY . /usr/src/app",
      "# Create and activate a virtual environment",
      "RUN python -m venv /venv",
      "ENV PATH=/venv/bin:$PATH",
      "# Upgrade pip to the latest version",
      "RUN pip install --no-cache-dir --upgrade pip",  
      "# Requirements are installed here to ensure they will be cached.",
      "RUN pip install -r requirements.txt",
      "EXPOSE 80",
      "CMD sh /usr/src/app/run.sh"
    ]
  }