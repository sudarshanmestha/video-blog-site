{
    "schemaVersion": 2,
    "dockerfileLines": [
      "FROM library/python:3.12.2-slim-bookworm",
      "RUN apk update && apk upgrade && apk add --no-cache make g++ bash git openssh postgresql-dev curl libmagic",
      "RUN mkdir -p /usr/src/app",
      "WORKDIR /usr/src/app",
      "COPY . /usr/src/app",
      "# Requirements are installed here to ensure they will be cached.",
      "COPY ./requirements /requirements",
      "RUN pip install --no-cache-dir -r /requirements/production.txt \\",
      "    && rm -rf /requirements",
      "EXPOSE 80",
      "CMD sh /usr/src/app/run.sh"
    ]
  }